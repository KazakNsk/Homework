<div class="container">
  <br>
  <!--Search Input-->
  <div class="input-group mb-3 mat-elevation-z8">
    <input #searchBox type="search" class="form-control" placeholder="Search..." (keyup.enter) = "search(searchBox.value)" >
    <div class="input-group-append">
      <button type="button" class="btn btn-primary" (click)="search(searchBox.value)">Find</button>
      <button type="button" class="btn btn-primary dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      </button>
      <div class="dropdown-menu">
         <a class="dropdown-item" (click)="apiType=ApiType.WikiMediaApi">Wiki API</a>
         <a class="dropdown-item" (click)="apiType=ApiType.LocalApi">Local API</a>
      </div>
    </div>
  </div>
  <!--Progress bar-->
  <div>
    <mat-progress-bar mode="indeterminate" *ngIf="isSearchNow"></mat-progress-bar>
  </div>
  <!-- Result container -->
  <div class="search-result-container">
    <div class="table-container mat-elevation-z8" *ngIf="searchSuccessful&&totalhits!=0">
      <mat-table [dataSource]="pages">
        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let rowData; columns: columnsToDisplay"></tr>
        <!-- Page id Column -->
        <ng-container matColumnDef="pageid" style="display:flex;
   justify-content:flex-end;">
          <th mat-header-cell *matHeaderCellDef>Page Id</th>
          <td mat-cell *matCellDef="let page">{{page.pageid}}</td>
        </ng-container>
        <!-- Title Column -->
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef>Title</th>
          <td mat-cell *matCellDef="let page">{{page.title}}</td>
        </ng-container>
        <!-- Snippet Column -->
        <ng-container matColumnDef="snippet">
          <th mat-header-cell *matHeaderCellDef>Snippet</th>
          <td mat-cell *matCellDef="let page" [innerHTML] = "page.snippet"></td>
        </ng-container>
        <!-- Timestamp Column -->
        <ng-container matColumnDef="timestamp">
          <th mat-header-cell *matHeaderCellDef>Timestamp</th>
          <td mat-cell *matCellDef="let page">{{page.timestamp}}</td>
        </ng-container>
      </mat-table>
    </div>
    <!--  Paginator  -->
    <mat-paginator [pageSize]="defaultPageSize" [length]="totalhits" (page)="change()" [hidePageSize]="true" [hidden]="totalhits<defaultPageSize" ></mat-paginator>
  </div>
  <!-- Alert container -->
  <div class="alert alert-primary mat-elevation-z8" role="alert" *ngIf="!searchSuccessful&&!error_message">
    <h5>No such pages</h5>
  </div>
  <!--  Error container  -->
  <div class="alert alert-danger mat-elevation-z8" *ngIf="!searchSuccessful&&error_message">
    <h5>{{error_message}}</h5>
  </div>
</div>


